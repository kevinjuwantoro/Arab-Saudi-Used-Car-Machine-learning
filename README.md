# Arab-Saudi-Used-Car-Machine-learning

<img src ='https://cdn.syarah.com/global/deal_search_listing/142/deal_box_img_mobile_en-1689673224-781.webp'>

Syarah’s commitment to solving these pricing challenges is part of its wider mission to improve the used car market in Saudi Arabia. By promoting fair and competitive pricing, the platform aims to raise the standards of the industry and contribute to its growth and sustainability. Through ongoing improvements and a commitment to transparency, Syarah aims to become a trusted and effective platform for connecting buyers and sellers in the fast-paced world of used car sales.

**The used car market needs a tool that can predict the prices of used cars accurately and competitively. This is a big challenge because there are so many different types of cars with different features.**

By providing a reliable way to price a wide range of vehicles, the tool aims to increase the trust users have in the platform.
The tool is also designed to improve efficiency and increase profits and user experience for companies or platforms involved in buying and selling used cars. 

The success of this analysis will be measured by the ability to provide actionable recommendations that can be implemented to enhance the transportation experience for elderly/senior passengers. Ultimately, the aim is to position Transjakarta as a preferred mode of transport for the elderly, thereby promoting their mobility, independence, and quality of life.

##  BackGround
## **Background Business Problem Understanding**
<img src ='https://cdn.syarah.com/react/assets/images/bb1.webp'>

Syarah is an online platform for buying and selling used cars in Riyadh, Saudi Arabia. The platform allows users to register as sellers or buyers, upload their car information and photos, and browse through a wide selection of new and used cars. Syarah also provides various services such as car inspection, warranty, financing, and delivery. Syarah.com is a website that offers a platform for buying and selling used cars in Saudi Arabia. It claims to be the best online marketplace for car lovers who want to find their dream car at the best price. 

There are many positive side from Syarah.com first it has a user-friendly interface that allows users to search for cars by make, model, year, price, location, and other filters. Users can also view photos, videos, and specifications of each car. Syarah.com provides various services to its users, such as car inspection, warranty, financing, and delivery. Users can book an appointment with a certified mechanic to inspect their car before buying it. They can also choose from different payment plans and get a one-year warranty on their car. Syarah.com has a team of experts who help users with any questions or issues they may have during the car buying process. Users can contact them via phone, email, or chat on the website or app. They can also get advice on how to maintain and repair their car. Syarah.com has a loyalty program that rewards users for using its services. Users can earn points for every transaction they make on the website or app. They can redeem these points for discounts or free services on their next purchase.

According to Similarweb, Syarah.com had a total of 1.3 million visits in April 2023, ranking #45,399 globally and #263 in Saudi Arabia. The website had a bounce rate of 47.65%, an average of 4.64 pages per visit, and an average visit duration of 4 minutes and 7 seconds. Syarah.com is one of the leading online platforms for buying and selling used cars in Saudi Arabia. It offers a wide range of new and used cars from various brands and models. It also provides various services such as car inspection, warranty, financing, and delivery. Some of the main competitors of Syarah.com are Saleh Cars Group, Toyota, Emad4Cars, Sylndr, and Carswitch. These websites also offer similar services and features as Syarah.com, such as car listings, reviews, ratings, comparisons, and contact details.

To sell a car on the Syarah platform, prospective sellers only need to register an account, then fill in personal data and the car they want to sell, and enter some documentation of the car to be sold. After that, the Syarah team will inspect the car to be sold and if the administrative requirements and inspection results have met the requirements, the seller can immediately determine the price of the car to be sold and choose an advertising package on the Syarah platform. 

**On this Syarah platform, sellers are free to give prices for the cars they want to sell, where in some cases sellers have difficulty in determining the price of the car.** If the seller gives a price that is much more expensive than the market price, then of course the car will be difficult to sell and the resources (money spent by the seller for advertising and time spent) will be wasted, on the other hand if the seller sets a selling price that is too cheap, then of course the seller will not get as much profit as they should get.

Car valuation is the process of estimating the market value of a car based on various factors, such as year, make, model, mileage, condition, and optional equipment. There are several online tools that can help car sellers and buyers to get a fair and unbiased price quote for their car

**References**

https://www.similarweb.com/website/syarah.com/

https://syarah.com

https://www.consumerreports.org/cars/car-value-estimator/

https://www.carwale.com/used/carvaluation/

https://www.autotrader.co.uk/cars/valuation

### Problem Statement
<img src = 'https://i.dailymail.co.uk/1s/2022/02/23/13/54552183-0-image-a-139_1645623455462.jpg'>

The Syarah platform in Saudi Arabia faces some challenges in setting prices for used cars. This is because there are many different types of cars on the platform, each with its own unique features. These features make it hard to find a fair price that isn’t too high or too low.

The variety of cars means that pricing needs to take into account not just general market trends, but also the specific details of each car. These details include things like the car’s type, where it’s from, its make, the type of gear it has, its options, its age, the size of its engine, how many miles it’s driven, whether the price is negotiable, and how much demand there is for it.

Syarah understands how important it is to solve these challenges to make the online experience better for everyone who wants to buy or sell a used car. The main goal is to create a platform where prices are fair, competitive, and clear. **To reach this goal, Syarah is developing tools and features to help sellers figure out the right price for their cars. This way, the platform can avoid the risks that come with setting the wrong price and make the process of selling a car more efficient.**

By tackling these challenges, Syarah hopes to benefit everyone involved in the used car market in Saudi Arabia. Companies that use the platform will find it easier to do business. Buyers will benefit from fair and competitive prices that reflect the real value of the cars they’re interested in. **Sellers will be able to set prices that attract buyers without losing out on profits.**

## **Approach that can be Made from this Problem**

The reliable solutions provided by this tool are expected to build confidence in potential buyers and sellers using the platform for buying and selling used cars. By providing a reliable way to price a wide range of vehicles, the tool aims to increase the trust users have in the platform.

The tool is also designed to improve efficiency and increase profits and user experience for companies or platforms involved in buying and selling used cars. By offering competitive prices that match market values, these platforms can attract more potential customers, leading to more engagement and transactions.

In the end, the tool aims to meet the diverse needs of users by providing accurate and competitive pricing information. This is expected to improve customer satisfaction by making it easier to determine the specifications and prices of used cars. The tool aims to make it easier and more certain for users to make decisions in the fast-paced world of buying and selling used cars.

**In conclusion, introducing a predictive pricing tool is a major step forward in the used car market. It offers a sophisticated solution to the challenges of a diverse industry. By making the pricing process smoother and more efficient, the tool aims to improve the overall efficiency, reliability, and profitability of platforms dedicated to selling used cars.**
## Overall Observation from Analysis 

## **Columns Description**

| Column       | Description                                            |
|--------------|--------------------------------------------------------|
| Type         | Type of used car.                                      |
| Region       | The region in which the used car was offered for sale.  |
| Make         | The company name.                                      |
| Gear_Type    | Gear type size of used car.                            |
| Origin       | Origin of used car.                                    |
| Options      | Options of used car.                                   |
| Year         | Manufacturing year.                                    |
| Engine_Size  | The engine size of used car.                           |
| Mileage      | Mileage of used car.                                   |
| Negotiable   | True if the price is 0, that means it is negotiable.   |
| Price        | Used car price.                                        |


## **Conclusion for Syarah.com**

Syarah.com, as a prominent platform for selling used cars in Saudi Arabia, faces the critical challenge of accurately pricing its diverse inventory to ensure competitiveness and profitability. The machine learning model developed for Syarah.com provides invaluable insights into the pricing dynamics of used cars, leveraging various features such as engine size, year of manufacture, make, mileage, type, standard options, and origin. Through rigorous analysis and evaluation of metrics like Mean Absolute Error (MAE), Root Mean Square Error (RMSE), and Mean Absolute Percentage Error (MAPE), the model offers actionable recommendations for optimizing pricing strategies and enhancing user experience on the platform.

The analysis of profit margins across different price ranges reveals compelling insights for Syarah.com. By considering factors such as acquisition costs, operational expenses, and market demand, Syarah.com can identify the price ranges that maximize profitability while maintaining competitiveness in the market. Let's illustrate this with an example:

**Calculating the potential profit within this price range:**

1. Revenue: If the car is sold for 5,000 - 10,000 SAR (midpoint of the range), the revenue generated is 7,500 SAR.

2. Cost: The total cost incurred, including acquisition and operational expenses, amounts to 8,500 SAR with increase of 10% every increase price range of used car.

3. Profit: Subtracting the cost from revenue.

This example demonstrates how leveraging the insights from the machine learning model can enable Syarah.com to optimize pricing decisions and maximize profitability for each transaction.

## **To determine the best price range for Syarah.com Based On Profit**

1. Profit Potential: To estimate potential profit, we need to subtract the total cost (acquisition cost + operational expenses) from the revenue generated by selling cars within each price range.

2. Model Accuracy: We'll consider the scores of MAE, RMSE, and MAPE to assess the accuracy of predictions. Lower scores indicate higher accuracy.

3. Data Availability: The number of data points (Jumlah Data) provides insight into the reliability of predictions within each price range. More data points generally lead to more robust predictions.


**1. Profit Calculation:**
Revenue: Midpoint of each price range.

**2. Cost:** 
Acquisition cost + operational expenses.

**3. Model Accuracy:** 
We'll consider the average of MAE, RMSE, and MAPE scores to evaluate overall model performance.

| Price Range (SAR) | Revenue (Midpoint) | Cost (Acquisition + Expenses) | Average Model Accuracy (MAE, RMSE, MAPE) |
|-------------------|--------------------|-------------------------------|----------------------------------------|
| 5000-10000        | 7500               | 8500                          | 120.169                                |
| 10000-20000       | 15000              | 9350                          | 93.323                                 |
| 20000-30000       | 25000              | 10285                         | 46.506                                 |
| 30000-40000       | 35000              | 11314                         | 35.269                                 |
| 40000-50000       | 45000              | 12445                         | 31.756                                 |
| 50000-100000      | 75000              | 13690                         | 18.773                                 |
| 100000-150000     | 125000             | 15059                         | 16.146                                 |
| 150000-200000     | 175000             | 16565                         | 20.212                                 |
| 200000-250000     | 225000             | 18222                         | 25.793                                 |
| 250000-300000     | 275000             | 20044                         | 27.466                                 |
| 300000-350000     | 325000             | 22048                         | 32.934                                 |
| 350000-400000     | 375000             | 24253                         | 58.912                                 |
| 400000-450000     | 425000             | 26678                         | 29.158                                 |
| 450000-500000     | 475000             | 29346                         | 25.159                                 |
| >500000           | Not Applicable     | Not Applicable                | Not Applicable                         |



## **Potential profit**

| Price Range (SAR) | Potential Profit (SAR) |
|-------------------|------------------------|
| 5000-10000        | -1000                  |
| 10000-20000       | 5650                   |
| 20000-30000       | 14715                  |
| 30000-40000       | 23686                  |
| 40000-50000       | 32555                  |
| 50000-100000      | 61310                  |
| 100000-150000     | 109941                 |
| 150000-200000     | 158435                 |
| 200000-250000     | 206778                 |
| 250000-300000     | 235956                 |
| 300000-350000     | 292952                 |
| 350000-400000     | 350747                 |
| 400000-450000     | 398322                 |
| 450000-500000     | 445654                 |
| >500000           | Not Applicable         |

**Revenue Calculation:**

1. The revenue is calculated as the midpoint of each price range provided in the dataset. For example, for the price range 5000-10000 SAR, the midpoint would be (5000 + 10000) / 2 = 7500 SAR.
We use the midpoint as an approximation of the average selling price within each range.

2. Cost Calculation:
The cost includes both the acquisition cost of the car and operational expenses incurred by Syarah.com.
Let’s assume that the cost (acquisition + expenses) increases by 10% for each subsequent price range. which for the lowest price range the total cost is 8500 SAR, and it will rise 10% every price range increases.


**Example: For the price range 10000-20000 SAR:**

1. Revenue: Midpoint = (10000 + 20000) / 2 = 15000 SAR.

2. Cost: Acquisition cost + Operational expenses = 8500 SAR * 10% =  9350 SAR

3. Therefore, the potential profit = Revenue - Cost = 15000 SAR - 8500 SAR = 6500 SAR.

We repeat these calculations for each price range to determine the potential profit. This allows us to assess which price range offers the highest profitability for Syarah.com while considering the accuracy of the machine learning model's predictions.

**Based on these calculations, the best price range for Syarah.com in terms of potential profit and model accuracy is the range of 100,000 to 150,000 SAR. This range offers a high potential profit of 109941  SAR and relatively good model accuracy with an average score of 16.146. Additionally, there are a sufficient number of data points (123) available in this range, enhancing the reliability of predictions.**

**Therefore, Syarah.com should focus on listing cars within the price range of 100,000 to 150,000 SAR to maximize profitability and ensure accurate pricing predictions.**

## **To determine the best price range for Syarah.com Based On Price Accuracy**

To determine the most accurate price range for Syarah.com to use, we need to consider the scores of MAE (Mean Absolute Error), RMSE (Root Mean Square Error), and MAPE (Mean Absolute Percentage Error) provided in the dataset. Lower scores indicate higher accuracy in predicting the prices of used cars within that price range.


| Price Range (SAR) | MAE            | RMSE           | MAPE        |
|-------------------|----------------|----------------|-------------|
| 5000-10000        | 12874.500749   | 15551.512687   | 177.986194  |
| 10000-20000       | 12419.937519   | 17569.925746   | 90.500162   |
| 20000-30000       | 7771.867483    | 12495.953600   | 32.051504   |
| 30000-40000       | 9059.666990    | 15274.903002   | 26.374280   |
| 40000-50000       | 8996.896214    | 16132.539304   | 20.650771   |
| 50000-100000      | 9127.296840    | 12920.938349   | 13.171308   |
| 100000-150000     | 16166.752974   | 22324.346275   | 13.087935   |
| 150000-200000     | 26948.305174   | 34799.335691   | 15.568028   |
| 200000-250000     | 34674.022138   | 46998.121333   | 15.643875   |
| 250000-300000     | 56248.760303   | 76927.379601   | 20.500389   |
| 300000-350000     | 70458.194290   | 84122.700818   | 22.325803   |
| 350000-400000     | 119011.705316  | 135067.963378  | 31.367388   |
| 400000-450000     | 55236.545930   | 81157.019333   | 13.236018   |
| 450000-500000     | 102424.149800  | 125977.461732  | 22.740542   |
| >500000           | Not available  | Not available  | Not available |


Given that accuracy and profitability are both important considerations for Syarah.com, a balance needs to be struck between these factors when selecting the price range to focus on. Let's reassess the options based on a combination of accuracy and potential profit:

1. Accuracy: The range of 20000-30000 SAR has the highest accuracy scores (lowest MAE, RMSE, and MAPE), indicating better prediction performance.

2. Profitability: The range of 100000-150000 SAR has a relatively high potential profit, with a midpoint revenue of 125000 SAR.

3. Considering both factors, Syarah.com could prioritize the range of 100000-150000 SAR for its pricing strategy. Although the accuracy scores are not the lowest, they are still acceptable, and the potential profit is significantly higher compared to the lower-priced ranges.

## **Reccomendation for Syarah.com**

1. Syarah.com should primarily focus on listing cars within the price range of 100,000 to 150,000 SAR to maximize profitability while ensuring reasonable accuracy in pricing predictions. Additionally, the platform can explore strategies to improve accuracy within this price range, such as collecting more relevant data or refining the machine learning model.

2. Furthermore, Syarah.com could consider diversifying its offerings to include a variety of price ranges, ensuring coverage across different segments of the market. This approach can help attract a broader range of customers and enhance overall competitiveness in the used car market.

3. Continual monitoring of market trends, customer preferences, and model performance is essential for Syarah.com to adapt its pricing strategy effectively and maintain a competitive edge in the industry.

4. Dynamic Pricing Strategies: Implement dynamic pricing strategies based on real-time market data and machine learning insights to adapt to changing demand dynamics and optimize profit margins.

5. Inventory Management: Utilize the model's predictions to streamline inventory management processes, focusing on cars with the highest predicted profitability within the optimal price ranges.

6. Value-Based Pricing: Shift towards value-based pricing strategies that align with customer preferences and perceived value, enhancing customer satisfaction and loyalty.

7. Data-Driven Decision Making: Continuously collect and analyze data on transaction history, customer behavior, and market trends to refine pricing models and improve decision-making processes.

8. User Education and Transparency: Educate users (both buyers and sellers) on the factors influencing pricing decisions and promote transparency in pricing practices to foster trust and confidence in the platform.

## **Further Suggestion to improve this machine learning model**

1. Feature Importance Analysis: Conduct a thorough analysis of feature importance using CatBoost's built-in feature importance metrics. Identify the most influential features in predicting car prices and focus on refining or augmenting these features.

2. Optimize Hyperparameters: CatBoost offers a wide range of hyperparameters that can be tuned to improve model performance. Utilize techniques like grid search or Bayesian optimization to find the optimal combination of hyperparameters for this specific dataset and problem.

3. CatBoost Cross-Validation: Implement cross-validation techniques specific to CatBoost, such as CatBoost's own cross-validation method, to ensure robust model evaluation and avoid overfitting.

4. Handling Categorical Variables: CatBoost naturally handles categorical variables without the need for one-hot encoding or label encoding. However, explore different strategies for handling categorical variables, such as target encoding or embeddings, to see which approach yields the best results for this dataset.

5. Ensemble with CatBoost: Experiment with ensemble methods that incorporate CatBoost models, such as blending or stacking CatBoost models with other algorithms like random forests or gradient boosting machines, to further boost predictive performance.

6. Regularization Techniques: CatBoost provides built-in support for L2 regularization and can help prevent overfitting. Experiment with different regularization parameters to find the right balance between model complexity and generalization performance.

7. Model Interpretability: CatBoost provides tools for model interpretability, such as SHAP values. Utilize these tools to gain insights into how the model makes predictions and communicate these insights to stakeholders for better understanding and trust in the model.

8. Data Preprocessing: Carefully preprocess the data to handle missing values, outliers, and skewed distributions. CatBoost is robust to these issues to some extent, but preprocessing the data appropriately can still improve model performance.

## Authors

* **Hieremias Kevin Juwantoro** - *Initial work* - [https://github.com/kevinjuwantoro/Arab-Saudi-Used-Car-Machine-learning)
